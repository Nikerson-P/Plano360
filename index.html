<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Showroom</title>
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  </head>
  <body>
    <a-scene  vr-mode-ui="enabled: false" >
      <a-assets>
        <img id="ambiente" src="ambiente.jpg" crossorigin="anonymous" />
        <img id="ambiente2" src="ambiente2.jpg" crossorigin="anonymous" />
        <img id="ambiente3" src="ambiente3.jpg" crossorigin="anonymous" />
        <img id="ambiente4" src="ambiente4.jpg" crossorigin="anonymous" />
      </a-assets>
<a-camera 
  look-controls="reverseMouseDrag: true;touchEnabled: true; magic-windowTrackingEnabled: false; mouseEnabled: true"
  ">
 
  <a-cursor
  fuse="false"
  raycaster="objects: .clicavel"
  rayOrigin="mouse">
</a-cursor>

</a-camera>
      
<a-sky id="sky" src="#ambiente3" rotation="0 -90 0"></a-sky>

//cena inicial
<a-entity id="cenaInicio" position="0 1.6 0" visible="true">
    <a-box 
      id="inicio"
      position="0 0 -1.6"
      rotation="0 90 0" 
      color="#4CC3D9" 
      depth="0.3" 
      height="0.3" 
      width="0.3"
      class="clicavel inicio">

    <a-box 
      id="inicio_montanhas"
      position="-1.6 0 -1.6"
      rotation="0 90 0" 
      color="#4CC3D9" 
      depth="0.3" 
      height="0.3" 
      width="0.3"
      class="clicavel montanhas">
</a-entity>
      

//cena montanhas 
<a-entity id="cenaMontanha" position="0 1.6 0" visible="false">
    <a-box 
      id="montanhas_inicio"
      position="0 0 -1.6"
      rotation="0 90 0" 
      color="#ffffff" 
      depth="0.3" 
      height="0.3" 
      width="0.3"
      class="clicavel inicio">

    <a-box 
      id="montanhas_quarto"
      position="1.6 0 -1.6"
      rotation="0 90 0" 
      color="#ffffff" 
      depth="0.3" 
      height="0.3" 
      width="0.2"
      class="clicavel quarto">
</a-entity>

//cena quartos
<a-entity id="cenaQuartos" position="0 1.6 0" visible="false">
    <a-box 
      id="quartos_inicio"
      position="0 0 -1.6"
      rotation="0 90 0" 
      color="#ffffff" 
      depth="0.3" 
      height="0.3" 
      width="0.3"
      class="clicavel inicio">

    <a-box 
      id="quartos_montanhas"
      position="-1.6 0 -1.6"
      rotation="0 90 0" 
      color="#ffffff" 
      depth="0.3" 
      height="0.3" 
      width="0.2"
      class="clicavel montanhas">
</a-entity>
  
  
    </a-scene>
    <script>
document.addEventListener('DOMContentLoaded', () => {
  //botoes
  const inicio = document.querySelector('.inicio');
  const montanhas = document.querySelector('.montanhas');
  const quarto = document.querySelector('.quarto');

  //cenas 
  const cena1 = document.querySelector('#cenaInicio');
  const cena3 = document.querySelector('#cenaQuartos');
  const cena2 = document.querySelector('#cenaMontanha');

  //plano de fundo
  const sky = document.querySelector('#sky');

  //pega cena visivel 
  var cenaVisivel;
  //cursor
  //const cursor = document.querySelector('a-cursor');

  
  inicio.addEventListener('click', () => {
    //visibilidade
    
    cena2.setAttribute('visible','false');
    cena3.setAttribute('visible','false');
    cena1.setAttribute('visible','true');

    //ambiente correspondente
    sky.setAttribute('src','#ambiente3');
    console.log('Botão clicado inicio');
  });
  
  quarto.addEventListener('click', () => {
    //visibilidade
    cena1.setAttribute('visible','false');
    cena2.setAttribute('visible','false');
    cena3.setAttribute('visible','true');

    //ambiente correspondente
    sky.setAttribute('src','#ambiente');
    console.log('Botão clicado quarto');
  });

  montanhas.addEventListener('click', () => {
    //visibilidade
    cena1.setAttribute('visible','false');
    cena3.setAttribute('visible','false');
    cena2.setAttribute('visible','true');

    //ambiente correspondente
    sky.setAttribute('src','#ambiente');
    console.log('Botão clicado montanhas');
  });
  

 /* setTimeout(() => {
    cursor.components.raycaster.refreshObjects();
  }, 50);
*/
   setTimeout(() => {
     cenaVisivel = document.querySelector('a-entity[visible="true"]');
     console.log(cenaVisivel);
  }, 50);
});
</script>


  </body> 
</html>

























