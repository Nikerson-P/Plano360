<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>GalaxyLed - Showroom</title>
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-look-at-component@0.8.0/dist/aframe-look-at-component.min.js"></script>

    <link 
      rel="stylesheet" 
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" 
      integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" 
      crossorigin="anonymous" 
      referrerpolicy="no-referrer" 
    />
    <link rel="stylesheet" type="text/css" href="style.css">
  </head>
  <body>
    <div id="loading">
      <label>Carregando...</label>
    </div>
    <div id="menuConfig">
        <label class="button" id="btnAtivarAnimacao">Ativar/Desativar animacao</label></br>
        <label class="button" id="btnAtivarMarcadores">Ativar/Desativar marcadores</label>
    </div>
    <div id="cenaPrincipal">
      
      <div id="menu-container">
        <div><label id="btnHome"><i class="fa-solid fa-house fa-2x"></i></label></div>
        <div><label id="btnConfig"><i class="fa-solid fa-list fa-2x" ></i></label></div>
        
      </div>
      <div id="cena">
            <a-scene embedded cursor="rayOrigin:mouse" id="modelo">
              <a-assets>
                <img id="clique"          src="clique.png" />
                <img id="refletores"      src="Refletores-spot.jpg" />
                <img id="arandela1"       src="arandela-decor.jpg" />
                <img id="arandela2"       src="arandela-decor2.jpg" />
                <img id="awei-mesa"       src="awei-mesa.jpg" />
                <img id="fitas"           src="fitas.jpg" />
                <img id="balizadores"     src="balizadores.jpg" />
                <img id="centro_showroom" src="centro_showroom.jpg" />
                <img id="pendentes"       src="pendentes.jpg" />
                <img id="mesas"           src="mesas.jpg" />
                <img id="home"            src="icone.png" />
              </a-assets>
              <!-- Câmera no centro -->
                <a-entity id="animacao" animation__Rot="property: rotation; to:0 360 0; dur:600000; loop: true; easing:linear">
                <a-camera id="cameraPrincipal" position="0 1.6 0" look-controls="reverseMouseDrag: true;magicWindowTrackingEnabled:false" >
                  
                </a-camera> 
                </a-entity> 
              <a-entity >
                <a-sky id="ambiente" src="centro_showroom.jpg" rotation="0 0 0"></a-sky>
              </a-entity>
                    <a-image click-listener visible="false" rotation="" position=""   class="hotspot" data-raycastable width="0.6" height="0.6" transparent="true" look-at="[camera]" id="btnCentroShowroom" src="#clique" ></a-image>
                    <a-image click-listener visible="true" rotation="0 -45 0" position="-3 1.2 0"   class="hotspot" data-raycastable width="0.6" height="0.6" transparent="true" look-at="[camera]" id="btnBalizadores" src="#clique"></a-image>
                    <a-image click-listener visible="false" rotation="" position=""   class="hotspot" data-raycastable width="0.6" height="0.6" transparent="true" look-at="[camera]" id="btnRefletores" src="#clique"></a-image>
                    <a-image click-listener visible="true" rotation="0 195 0" position="-2.2 1.2 -4"   class="hotspot" data-raycastable width="0.6" height="0.6" transparent="true" look-at="[camera]" id="btnMesas" src="#clique"></a-image>
                    <a-image click-listener visible="false" rotation="" position=""   class="hotspot" data-raycastable width="0.6" height="0.6" transparent="true" look-at="[camera]" id="btnMesaAwei" src="#clique"></a-image>
                    <a-image click-listener visible="true" rotation="0 90 0" position="-2 1.2 -1"   class="hotspot" data-raycastable width="0.6" height="0.6" transparent="true" look-at="[camera]" id="btnFitas" src="#clique"></a-image>
                    <a-image click-listener visible="true" rotation="0 -90 0" position="4 1.2 0"   class="hotspot" data-raycastable width="0.6" height="0.6" transparent="true" look-at="[camera]" id="btnPendentes" src="#clique"></a-image>
                    <a-image click-listener visible="false" rotation="" position=""   class="hotspot" data-raycastable width="0.6" height="0.6" transparent="true" look-at="[camera]" id="btnArandelaDecor1" src="#clique"></a-image>
                    <a-image click-listener visible="false" rotation="" position=""   class="hotspot" data-raycastable width="0.6" height="0.6" transparent="true" look-at="[camera]" id="btnArandelaDecor2" src="#clique"></a-image>
            </a-scene>
        </div>
  </div>
    <script>
        
       document.addEventListener('DOMContentLoaded', () => {
                const cena = document.querySelector('#modelo');
                const cenaPrincipal = document.querySelector('#cenaPrincipal');
                const loading = document.querySelector('#loading');


                console.log(cenaPrincipal);
                console.log(loading);

                cena.addEventListener('componentinitialized',() =>{
                  console.log('Entrou na inicialização');
                  cenaPrincipal.style.display = 'none';

                })
                cena.addEventListener('loaded',()=>{
                  console.log('terminou a inicialização');
                  cenaPrincipal.style.display = 'block';
                  loading.style.display = 'none'
                }) 
            const animacao =             document.querySelector('#animacao');
            const btnAtivarAnimacao =    document.querySelector('#btnAtivarAnimacao');
            const btnAtivarMarcadores =  document.querySelector('#btnAtivarMarcadores');    
            const sky =                  document.querySelector("#ambiente");
            const btnCentroShowroom =    document.querySelector("#btnCentroShowroom");
            const btnBalizadores =       document.querySelector("#btnBalizadores");
            const btnRefletores =        document.querySelector("#btnRefletores");
            const btnMesas =             document.querySelector("#btnMesas");
            const btnMesaAwei =          document.querySelector("#btnMesaAwei");
            const btnFitas =             document.querySelector("#btnFitas");
            const btnPendentes =         document.querySelector("#btnPendentes");
            const btnArandelaDecor1 =    document.querySelector("#btnArandelaDecor1");
            const btnArandelaDecor2 =    document.querySelector("#btnArandelaDecor2");

            const menuConfig =           document.querySelector('#menuConfig');
            const btnConfig =            document.querySelector('#btnConfig');
            const btnHome =              document.querySelector('#btnHome');
           
            
            btnAtivarAnimacao.addEventListener('click',()=>{
              ativarAnimacao();
            })

            btnAtivarMarcadores.addEventListener('click',()=>{
              mostrarMarcadores();
            })

            btnConfig.addEventListener('click',() =>{
 
               resultado = window.getComputedStyle(menuConfig)
              console.log(resultado.display);
              if(resultado.display === 'none'){
                menuConfig.style.display = "block";
              }else{
                menuConfig.style.display = 'none';  
              }
            });
            

            btnHome.addEventListener('click',()=>{
                console.log("vc clicou no home")
            });
            
            
            function mostrarMarcadores(){
                LimparPontos();
                let fundo = sky.getAttribute('src');
                console.log(fundo);
            }
            function ativarAnimacao(){
              let controleAnimacao = (animation.components['animation__rot']);
              console.log(controleAnimacao);
              animacao.components['animation__rot'].pause();


            }

            function LimparPontos(){
                        btnBalizadores.setAttribute('visible',false);
                        btnArandelaDecor1.setAttribute('visible',false);
                        btnArandelaDecor2.setAttribute('visible',false);
                        btnCentroShowroom.setAttribute('visible',false);
                        btnFitas.setAttribute('visible',false);
                        btnMesaAwei.setAttribute('visible',false);
                        btnMesas.setAttribute('visible',false);
                        btnPendentes.setAttribute('visible',false);
                        btnRefletores.setAttribute('visible',false);
            }

            //#region Posições e rotações
            //posições  que ficam na Imagem Centro Showroom 
            const posicoesCentroShowroom = {
                pendentes : "4 1.2 0",
                mesas : "-2.2 1.2 -4",
                fitas : "-2 1.2 -1",
                balizadores: "-4 1.2 0"
            }
            
            
            //posições que ficam na Imagem Refletores
            const posicoesRefletores={
              centroShowroom : "-1.9 1.2 4",
              balizadores : "0 1.2 4"
            }

            
            //posições que ficam na Imagem arandelaDecor1
            const posicoesArandelaDecor1 = {
              centroShowroom : "3.3 1.2 6",
              mesas: "1 1.2 6",
              fitas : "2.5 1.2 3.5",
              pendentes: "4 1.2 -1",
              arandelaDecor2 : "-4 1.2 1.5" 
            }

            

            //posições que ficam na Imagem arandelaDecor2
            const posicoesArandelaDecor2 ={
              arandelaDecor1 : "-3 1.2 5",
              mesas : "0.2 1.2 -4"
            }

            //posições que ficam na Imagem awei mesa
            const posicoesAweimesa= {
              pendentes : "-0.2 1.2 4",
              fitas : "-4 1.2 -2",
              arandelaDecor1 : "1 1.2 2"
            }
            
            //posições que ficam na Imagem Fitas
            const posicoesFitas ={
              refletores : "-4 1.2 -4",
              mesaAwei : "-5 1.2 2.5",
              mesas : "-2.5 1.2 2.5",
              pendentes : "-8 1.2 0"
            }


            //posições que ficam na Imagem balizadores
            const posicoesBalizadores = {
              refletores : "-6 1.2 -0.4"
            }

            //posições que ficam na Imagem pendentes
            const posicoesPendentes = {
              refletores : "-3.8 1.2 4"
            }

            //posições que ficam na Imagem Mesas
            const posicoesMesas = {
              arandelaDecor2 : "2.5 1.2 8",
              arandelaDecor1 : "-2 1.2 6",
              mesaAwei : "0 1.2 5",
              centroShowroom : "-3 1.2 -1",
              fitas : "-0.4 1.2 -3"
            }

//#endregion
            //#region Controle de Eventos
          AFRAME.registerComponent('click-listener', {
            init() {
              this.el.addEventListener('click', () => {
                //console.log('Clicou em:', this.el.id);

                const id = this.el.id;

              switch(id){
                case 'btnBalizadores':
                        //console.log("balizadores");
                        sky.setAttribute('src', '#balizadores');
                        LimparPontos()
                        btnRefletores.setAttribute('visible',true);

                        btnRefletores.setAttribute('position',posicoesBalizadores.refletores);
                        
                  break;
                case 'btnRefletores':
                  //console.log("refletores");
                        sky.setAttribute('src', '#refletores');
                        LimparPontos()  ;   
                        btnBalizadores.setAttribute('visible',true);
                        btnCentroShowroom.setAttribute('visible',true);
                      
                        
                        btnBalizadores.setAttribute('position',posicoesRefletores.balizadores);
                        btnCentroShowroom.setAttribute('position',posicoesRefletores.centroShowroom);
                  break;
                case 'btnMesas':
                  //console.log("Mesa");
                        sky.setAttribute('src', '#mesas');
                        LimparPontos();
                        btnArandelaDecor1.setAttribute('visible',true);
                        btnArandelaDecor2.setAttribute('visible',true);
                        btnCentroShowroom.setAttribute('visible',true);
                        btnFitas.setAttribute('visible',true);
                        btnMesaAwei.setAttribute('visible',true);

                        btnArandelaDecor1.setAttribute('position',posicoesMesas.arandelaDecor1);
                        btnArandelaDecor2.setAttribute('position',posicoesMesas.arandelaDecor2);
                        btnCentroShowroom.setAttribute('position',posicoesMesas.centroShowroom);
                        btnFitas.setAttribute('position',posicoesMesas.fitas);
                        btnMesaAwei.setAttribute('position',posicoesMesas.mesaAwei);
                        
                  break;
                case 'btnMesaAwei':
                  //console.log("Mesa Awei");
                        sky.setAttribute('src', '#awei-mesa');

                        LimparPontos()
                        btnArandelaDecor1.setAttribute('visible',true);
                        btnFitas.setAttribute('visible',true);
                        btnPendentes.setAttribute('visible',true);
                        
                        btnArandelaDecor1.setAttribute('position',posicoesAweimesa.arandelaDecor1);
                        btnFitas.setAttribute('position',posicoesAweimesa.fitas);
                        btnPendentes.setAttribute('position',posicoesAweimesa.pendentes);
                  break;
                case 'btnFitas':
                  //console.log("Fitas");
                        sky.setAttribute('src', '#fitas');
                        LimparPontos();
                        btnMesaAwei.setAttribute('visible',true);
                        btnMesas.setAttribute('visible',true);
                        btnPendentes.setAttribute('visible',true);
                        btnRefletores.setAttribute('visible',true);

                        btnMesaAwei.setAttribute('position',posicoesFitas.mesaAwei);
                        btnMesas.setAttribute('position',posicoesFitas.mesas);
                        btnPendentes.setAttribute('position',posicoesFitas.pendentes);
                        btnRefletores.setAttribute('position',posicoesFitas.refletores);
                  break;
                case 'btnPendentes':
                  //console.log("Pendentes");
                        sky.setAttribute('src', '#pendentes');
                        LimparPontos();
                        btnArandelaDecor1.setAttribute('visible',true);
                        btnArandelaDecor1.setAttribute('position',posicoesPendentes.refletores);

                  break;
                case 'btnArandelaDecor1':
                  //console.log("ArandelaDecor1");
                        sky.setAttribute('src', '#arandela1');
                        LimparPontos();
                        btnArandelaDecor2.setAttribute('visible',true);
                        btnCentroShowroom.setAttribute('visible',true);
                        btnFitas.setAttribute('visible',true);
                        btnMesas.setAttribute('visible',true);
                        btnPendentes.setAttribute('visible',true);

                        btnArandelaDecor2.setAttribute('position',posicoesArandelaDecor1.aradenlaDecor2);
                        btnCentroShowroom.setAttribute('position',posicoesArandelaDecor1.centroShowroom);
                        btnFitas.setAttribute('position',posicoesArandelaDecor1.fitas);
                        btnMesas.setAttribute('position',posicoesArandelaDecor1.mesas);
                        btnPendentes.setAttribute('position',posicoesArandelaDecor1.pendentes);
                        
                  break;
                case 'btnArandelaDecor2':
                  //console.log("ArandelaDecor2");
                        sky.setAttribute('src', '#arandela2');
                        LimparPontos();
                        btnArandelaDecor1.setAttribute('visible',true);
                        btnMesas.setAttribute('visible',true);

                        btnArandelaDecor1.setAttribute('position',posicoesArandelaDecor2.arandelaDecor1);
                        btnMesas.setAttribute('position',posicoesArandelaDecor2.mesas);

                  break;
                case 'btnCentroShowroom':
                   //console.log("ArandelaDecor2");
                        sky.setAttribute('src', '#centro_showroom');
                        LimparPontos();
                        btnBalizadores.setAttribute('visible',true);
                        btnFitas.setAttribute('visible',true);
                        btnMesas.setAttribute('visible',true);
                        btnPendentes.setAttribute('visible',true);
                        
                        btnBalizadores.setAttribute('position',posicoesCentroShowroom.balizadores);
                        btnFitas.setAttribute('position',posicoesCentroShowroom.fitas);
                        btnMesas.setAttribute('position',posicoesCentroShowroom.mesas);
                        btnPendentes.setAttribute('position',posicoesCentroShowroom.pendentes);
                  break;
                default:
                  console.log("nenhum ");
              }   
              });

            }
          });
        //#endregion 
                      


        });

         
      
	  </script>
    
  </body>
</html>












